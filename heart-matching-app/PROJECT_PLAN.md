# 心不全患者マッチングシステム プロジェクト計画書

## 📋 プロジェクト概要

### システム名
心不全患者マッチングシステム

### 目的
医療・介護施設間での心不全患者情報の共有と効率的なマッチングを実現し、患者に最適なサービスを提供する。

### 対象ユーザー
- 医療機関（病院、クリニック）
- 介護施設
- 訪問診療・看護・リハビリ事業者

## 🎯 開発フェーズ

### Phase 1: ローカルストレージ版（現在 → 1-2週間）
**目標**: 実用的な単一施設向けアプリケーションの完成

#### 実装済み機能
- ✅ ログイン機能（施設名入力）
- ✅ 患者登録機能
- ✅ 患者検索・フィルタリング機能
- ✅ 患者一覧表示
- ✅ 連絡先照会機能
- ✅ レスポンシブUI

#### 残作業
- [ ] **ローカルストレージによるデータ永続化**
  - ブラウザリロード時のデータ保持
  - 患者データの自動保存
  - 検索フィルター設定の保存
- [ ] CSVエクスポート機能
- [ ] データバックアップ・復元機能

#### 技術仕様
- **フロントエンド**: React + Vite
- **データ保存**: LocalStorage API
- **UI**: Tailwind CSS + Lucide Icons
- **バリデーション**: クライアントサイド

---

### Phase 2: 軽量バックエンド版（2-4週間後）
**目標**: 複数施設での試験運用開始

#### 追加機能
- [ ] JSON Server または Supabase でのデータ共有
- [ ] 施設間データ同期
- [ ] 基本的な認証機能
- [ ] 地図表示機能（Google Maps API連携）

#### 技術選択肢
- **軽量バックエンド**: JSON Server / Supabase / Firebase
- **認証**: 簡易認証 / Firebase Auth
- **地図**: Google Maps JavaScript API

---

### Phase 3: 本格運用版（1-3ヶ月後）
**目標**: 多施設での本格運用開始

#### 追加機能
- [ ] Azure App Service + Cosmos DB移行
- [ ] Azure Active Directory認証
- [ ] 高度な検索・マッチング機能
- [ ] レポート・分析機能
- [ ] モバイルアプリ対応

#### Azure構成
```
┌─────────────────┐    ┌──────────────────┐
│  各医療施設     │────│   Azure Cloud    │
│  (React App)    │    │                  │
└─────────────────┘    │ ・App Service    │
                       │ ・Cosmos DB      │
┌─────────────────┐    │ ・Key Vault      │
│  介護施設       │────│ ・Active Directory│
│  (React App)    │    │ ・Application    │
└─────────────────┘    │   Insights       │
                       └──────────────────┘
```

---

### Phase 4: AI/ML機能追加（3-6ヶ月後）
**目標**: AI活用による高度なマッチング

#### 追加機能
- [ ] Azure AI Services連携
- [ ] 患者マッチング精度向上
- [ ] 予測分析機能
- [ ] 自動レコメンド機能

## 🛠 技術スタック

### 現在の技術構成
- **フロントエンド**: React 18 + Vite
- **スタイリング**: Tailwind CSS
- **アイコン**: Lucide React
- **データ管理**: React State + LocalStorage（予定）

### 将来の技術構成
- **クラウド**: Microsoft Azure
- **データベース**: Azure Cosmos DB
- **認証**: Azure Active Directory
- **ホスティング**: Azure App Service
- **監視**: Azure Application Insights
- **セキュリティ**: Azure Key Vault

## 🔒 セキュリティ・コンプライアンス

### Phase 1（ローカル版）
- クライアントサイドでの基本的なデータ保護
- ブラウザセキュリティに依存

### Phase 3（Azure版）
- **HIPAA準拠**
- **ISO 27001/27017/27018** 認証
- データ暗号化（保存時・転送時）
- アクセス制御・監査ログ
- 個人情報保護法対応

## 💰 コスト見積もり

### Phase 1: ローカル版
- **開発コスト**: 0円（追加なし）
- **運用コスト**: 0円

### Phase 2: 軽量バックエンド版
- **Supabase**: 無料 〜 $25/月
- **Google Maps API**: $200/月（想定）

### Phase 3: Azure本格運用版
- **Azure App Service**: $50-200/月
- **Cosmos DB**: $100-500/月
- **その他Azure サービス**: $50-200/月
- **合計**: $200-900/月（規模による）

## 📈 成功指標

### Phase 1
- [ ] 単一施設での安定運用
- [ ] データ永続化の確実な動作
- [ ] ユーザビリティテスト合格

### Phase 2
- [ ] 3-5施設での試験運用
- [ ] 施設間データ共有の実現
- [ ] 月間100件以上の患者登録

### Phase 3
- [ ] 10施設以上での本格運用
- [ ] 月間500件以上の患者マッチング
- [ ] システム稼働率99%以上

## 🚀 次のアクション

### 直近の優先タスク（Phase 1完成）
1. **ローカルストレージ実装**
   - データの保存・読み込み機能
   - ブラウザリロード時の状態復元
2. **CSVエクスポート機能**
3. **ユーザビリティテスト**

### 判断ポイント
- **Phase 2移行**: 複数施設からの利用要望
- **Phase 3移行**: 10施設以上の利用、セキュリティ要件の厳格化
- **Azure移行**: 本格的な多施設運用、コンプライアンス要件

---

## 📞 連絡先・リソース

### 開発チーム
- プロジェクト責任者: [担当者名]
- 技術責任者: [担当者名]

### 外部リソース
- **Azure サポート**: Microsoft Azure サポートチーム
- **医療コンプライアンス**: 医療情報システム専門家
- **UI/UX**: デザイン専門家（必要に応じて）

---

*最終更新: 2025年6月27日*
*次回レビュー予定: Phase 1完成時*
